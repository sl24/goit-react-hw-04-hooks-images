{"version":3,"sources":["services/imageApi.js","components/Searchbar/SearchbarStyle.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItemStyle.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGalleryStyle.js","components/ImageGallery/ImageGallery.jsx","components/Button/ButtonStyle.js","components/Button/Button.jsx","components/PreLoader/PreLoaderStyle.js","components/PreLoader/PreLoader.jsx","components/Modal/ModalStyle.js","components/Modal/Modal.jsx","components/App/AppStyle.js","components/App/App.js","index.js"],"names":["axios","defaults","baseURL","fetchImgWithQuery","a","search","page","get","data","hits","SearchbarContainer","styled","header","SearchForm","form","SearchFormButton","button","SearchFormButtonLabel","span","SearchFormInput","input","Searchbar","onSubmitForm","useState","setSearch","reset","onSubmit","event","preventDefault","trim","toast","error","type","onChange","value","target","autoComplete","autoFocus","placeholder","GalleryItem","li","GalleryItemImage","img","ImageGalleryItem","webformatURL","tags","onClickImage","src","alt","onClick","List","ul","ImageGallery","imgArray","length","className","map","id","largeImageURL","ButtonLoadMore","Button","uploadMorePhotos","LoaderContainer","div","PreLoader","color","height","width","Overlay","ImgContainer","Image","modalRoot","document","querySelector","Modal","toggleModal","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","currentTarget","Container","ErrorText","p","App","setPage","setImgArray","isLoading","setIsLoading","showModal","setShowModal","setLargeImageURL","setError","request","prevArray","scrollImg","fetchMyAPI","scrollTo","top","documentElement","scrollHeight","behavior","prevShowModal","imgFound","imgNotFound","prevPage","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2c379527.chunk.js","sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nconst fetchImgWithQuery = async (search = '', page = 1) => {\n  const { data } = await axios.get(\n    `/?q=${search}&page=${page}&key=19056079-10451acfece32978cd1e0eb32&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n  return data.hits;\n};\n\nexport default fetchImgWithQuery;\n","import styled from 'styled-components';\n\nconst SearchbarContainer = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\n\nconst SearchForm = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 10px;\n  overflow: hidden;\n`;\n\nconst SearchFormButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nconst SearchFormButtonLabel = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nconst SearchFormInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n\nexport {\n  SearchbarContainer,\n  SearchForm,\n  SearchFormButton,\n  SearchFormButtonLabel,\n  SearchFormInput,\n};\n","import { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport PropTypes from 'prop-types';\nimport {\n  SearchbarContainer,\n  SearchForm,\n  SearchFormButton,\n  SearchFormButtonLabel,\n  SearchFormInput,\n} from './SearchbarStyle';\n\nfunction Searchbar({ onSubmitForm }) {\n  const [search, setSearch] = useState('');\n\n  const handelSearch = ({ target }) => {\n    const { value } = target;\n    setSearch(value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (search.trim() === '') {\n      return toast.error('Please enter something to start your search!');\n    }\n\n    onSubmitForm(search);\n    reset();\n  };\n\n  const reset = () => {\n    setSearch('');\n  };\n\n  return (\n    <SearchbarContainer>\n      <SearchForm onSubmit={handleSubmit}>\n        <SearchFormButton type=\"submit\">\n          <SearchFormButtonLabel>Search</SearchFormButtonLabel>\n        </SearchFormButton>\n        <SearchFormInput\n          onChange={handelSearch}\n          value={search}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </SearchForm>\n    </SearchbarContainer>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmitForm: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import styled from 'styled-components';\n\nconst GalleryItem = styled.li`\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n`;\n\nconst GalleryItemImage = styled.img`\n  width: 100%;\n  height: 260px;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n`;\n\nexport { GalleryItem, GalleryItemImage };\n","import PropTypes from 'prop-types';\nimport { GalleryItem, GalleryItemImage } from './ImageGalleryItemStyle';\n\nconst ImageGalleryItem = ({ webformatURL, tags, onClickImage }) => {\n  return (\n    <GalleryItem>\n      <GalleryItemImage src={webformatURL} alt={tags} onClick={onClickImage} />\n    </GalleryItem>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  onClickImage: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import styled from 'styled-components';\n\nconst List = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nexport default List;\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport List from './ImageGalleryStyle';\n\nconst ImageGallery = ({ imgArray, onClickImage }) => {\n  return (\n    imgArray.length > 0 && (\n      <List className=\"ImageGallery\">\n        {imgArray.map(({ id, webformatURL, largeImageURL, tags }) => (\n          <ImageGalleryItem\n            key={id}\n            webformatURL={webformatURL}\n            tags={tags}\n            onClickImage={() => onClickImage(largeImageURL)}\n          />\n        ))}\n      </List>\n    )\n  );\n};\n\nImageGallery.propTypes = {\n  imgArray: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n    }),\n  ),\n  onClickImage: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import styled from 'styled-components';\n\nconst ButtonLoadMore = styled.button`\n  padding: 8px 16px;\n  border-radius: 2px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n  &:hover,\n  &:focus {\n    background-color: #303f9f;\n  }\n`;\n\nexport default ButtonLoadMore;\n","import PropTypes from 'prop-types';\nimport ButtonLoadMore from './ButtonStyle';\n\nconst Button = ({ uploadMorePhotos }) => {\n  return (\n    <ButtonLoadMore type=\"button\" onClick={() => uploadMorePhotos()}>\n      Load more\n    </ButtonLoadMore>\n  );\n};\n\nButton.propTypes = {\n  uploadMorePhotos: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import styled from 'styled-components';\n\nconst LoaderContainer = styled.div`\n  margin: 0 auto;\n`;\n\nexport default LoaderContainer;\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport LoaderContainer from './PreLoaderStyle';\n\nconst PreLoader = () => {\n  return (\n    <LoaderContainer>\n      <Loader type=\"Puff\" color=\"#00BFFF\" height={100} width={100} />\n    </LoaderContainer>\n  );\n};\n\nexport default PreLoader;\n","import styled from 'styled-components';\n\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n`;\n\nconst ImgContainer = styled.div`\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n`;\n\nconst Image = styled.img`\n  margin: auto auto;\n  max-width: 95vw;\n  max-height: 95vh;\n`;\n\nexport { Overlay, ImgContainer, Image };\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { Overlay, ImgContainer, Image } from './ModalStyle';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nfunction Modal({ largeImageURL, toggleModal }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      toggleModal();\n    }\n  };\n\n  const closeByBackdrop = ({ target, currentTarget }) => {\n    if (target === currentTarget) toggleModal();\n  };\n\n  return createPortal(\n    <Overlay onClick={closeByBackdrop}>\n      <ImgContainer>\n        <Image src={largeImageURL} alt=\"\" />\n      </ImgContainer>\n    </Overlay>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  largeImageURL: PropTypes.string.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import styled from 'styled-components';\n\nconst Container = styled.div`\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 16px;\n  padding-bottom: 24px;\n`;\n\nconst ErrorText = styled.p`\n  text-align: center;\n  color: red;\n  font-size: 32px;\n`;\n\nexport { Container, ErrorText };\n","import { useState, useEffect } from 'react';\nimport { ToastContainer } from 'react-toastify';\n\nimport fetchImgWithQuery from '../../services';\nimport Searchbar from '../Searchbar';\nimport ImageGallery from '../ImageGallery';\nimport Button from '../Button';\nimport PreLoader from '../PreLoader';\nimport Modal from '../Modal';\n\nimport { Container, ErrorText } from './AppStyle';\n\nfunction App() {\n  const [search, setSearch] = useState(null);\n  const [page, setPage] = useState(1);\n  const [imgArray, setImgArray] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImageURL, setLargeImageURL] = useState('');\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    async function fetchMyAPI() {\n      try {\n        const request = await fetchImgWithQuery(search, page);\n        await setImgArray(prevArray => [...prevArray, ...request]);\n        scrollImg();\n      } catch (error) {\n        setError(error);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    if (search) fetchMyAPI();\n  }, [search, page]);\n\n  const onSubmitForm = data => {\n    setSearch(data);\n    setPage(1);\n    setIsLoading(true);\n    setError(null);\n    setImgArray([]);\n  };\n\n  const uploadMorePhotos = () => {\n    setIsLoading(true);\n    setPage(prevPage => prevPage + 1);\n  };\n\n  const scrollImg = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  const toggleModal = () => {\n    setShowModal(prevShowModal => !prevShowModal);\n  };\n\n  const onClickImage = largeImageURL => {\n    setLargeImageURL(largeImageURL);\n    toggleModal();\n  };\n\n  const imgFound = imgArray.length > 0 && !error;\n  const imgNotFound = search && imgArray.length === 0 && !error && !isLoading;\n\n  return (\n    <Container>\n      <Searchbar onSubmitForm={onSubmitForm} />\n      {error && <ErrorText>Whoops, something went wrong. Try again.</ErrorText>}\n      {imgFound && (\n        <>\n          <ImageGallery onClickImage={onClickImage} imgArray={imgArray} />\n          {!isLoading && <Button uploadMorePhotos={uploadMorePhotos} />}\n          {isLoading && <PreLoader />}\n          {showModal && (\n            <Modal largeImageURL={largeImageURL} toggleModal={toggleModal} />\n          )}\n        </>\n      )}\n      {imgNotFound && (\n        <ErrorText>No results were found for your search. Try again.</ErrorText>\n      )}\n      <ToastContainer autoClose={3000} />\n    </Container>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}